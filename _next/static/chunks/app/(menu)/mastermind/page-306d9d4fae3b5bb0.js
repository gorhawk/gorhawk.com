(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[767],{6140:function(e,t,l){Promise.resolve().then(l.bind(l,958))},958:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return v}});var n,r,s,o,i=l(7437),a=l(2265),c=l(4839);let u=(0,c.Z)("shadow bg-burlywood-50 border border-burlywood-400 text-burlywood-900 hover:bg-burlywood-100");function d(e){let{letterRange:t,handleSubmit:l}=e,[n,r]=(0,a.useState)([,,,,,].fill("")),s=(0,a.useRef)([]),o="^[".concat(t,"]$"),d=(e,t)=>{let l=t.target.value.toUpperCase();if(!l.match(o))return;let i=[...n];if(i[e]=l,r(i),e<4){var a;null===(a=s.current[e+1])||void 0===a||a.focus()}},f=(e,t)=>{var l,i,a,c,u;let d=t.key.toUpperCase();if("Backspace"===t.key){t.preventDefault();let o=[...n];n[e]?(o[e]="",r(o),e>0&&(null===(l=s.current[e-1])||void 0===l||l.focus())):e>0&&(null===(i=s.current[e-1])||void 0===i||i.focus())}else if("ArrowLeft"===t.key&&e>0)null===(a=s.current[e-1])||void 0===a||a.focus();else if("ArrowRight"===t.key&&e<4)null===(c=s.current[e+1])||void 0===c||c.focus();else if(d.match(o)){t.preventDefault();let l=[...n];l[e]=d,r(l),e<4&&(null===(u=s.current[e+1])||void 0===u||u.focus())}else"Enter"===t.key&&h()},h=()=>{if(l(n.join(""))){var e;r([,,,,,].fill("")),null===(e=s.current[0])||void 0===e||e.focus()}};return(0,a.useEffect)(()=>{var e;null===(e=s.current[0])||void 0===e||e.focus()},[]),(0,i.jsxs)("div",{className:"flex gap-4 md:gap-8",children:[(0,i.jsx)("div",{className:"flex gap-1",children:n.map((e,t)=>(0,i.jsx)("input",{ref:e=>void(s.current[t]=e),type:"text",maxLength:1,value:e,onChange:e=>d(t,e),onKeyDown:e=>f(t,e),className:"w-8 h-8 text-center font-bold text-lg uppercase outline outline-1 bg-white/65 outline-stone-500 focus:outline-2 focus:outline-teal-600"},t))}),(0,i.jsx)("button",{type:"button",className:(0,c.Z)("px-1 w-32 h-8",u),onClick:h,children:"Check"})]})}(n=s||(s={}))[n.RED=0]="RED",n[n.YELLOW=1]="YELLOW";let f="ABCDEFGHIJKLMNO",h="MASTERMIND_GAMESTATE";function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,l="";for(let n=0;n<e;n++)l+=t[Math.floor(Math.random()*t.length)];return l}(r=o||(o={}))[r.CORRECT=1]="CORRECT",r[r.UNKNOWN=0]="UNKNOWN",r[r.INCORRECT=-1]="INCORRECT";let m={1:"bg-teal-300 outline-teal-600 text-teal-950",0:"bg-burlywood-50/30 outline-burlywood-300/75 text-burlywood-700",[-1]:"bg-stone-400 outline-stone-600 text-stone-800"},p={1:0,0:-1,[-1]:1};function g(){return Array.from(f).reduce((e,t)=>(e[t]=0,e),{})}function b(){return(0,i.jsx)("svg",{height:"1rem",width:"1rem",version:"1.1",viewBox:"0 0 512 512",children:(0,i.jsx)("g",{children:(0,i.jsx)("polygon",{points:"501.539,169.221 453.886,86.7 303.669,173.449 303.669,0 208.365,0 208.365,173.479 58.114,86.73    10.461,169.261 160.674,255.99 10.501,342.71 58.154,425.231 208.365,338.482 208.365,512 303.669,512 303.669,338.542    453.846,425.271 501.499,342.74 351.267,255.99  "})})})}function v(){var e;let[t,l]=(0,a.useState)(!0),[n,r]=(0,a.useState)(()=>x(5,f)),[s,o]=(0,a.useState)([]),[v,N]=(0,a.useState)(g),j=(0,a.useRef)(null),w=(null===(e=s[s.length-1])||void 0===e?void 0:e.code)===n,y=s.length>=10||w;(0,a.useEffect)(()=>{let e=function(){let e=localStorage.getItem(h);return e?JSON.parse(e):null}();if(null!==e){var t,n,s;r(null!==(t=e.word)&&void 0!==t?t:x(5,f)),o(null!==(n=e.guesses)&&void 0!==n?n:[]),N(null!==(s=e.letterStates)&&void 0!==s?s:g())}l(!1)},[]),(0,a.useEffect)(()=>{t||function(e){let{word:t,guesses:l,letterStates:n}=e;localStorage.setItem(h,JSON.stringify({word:t,guesses:l,letterStates:n}))}({word:n,guesses:s,letterStates:v})},[t,n,s,v]),(0,a.useEffect)(()=>{if(j.current){let e=j.current.querySelectorAll(".asterisk-wrapper");for(let t=0;t<e.length;++t)e[t].style.transition="none",e[t].style.transform="rotate(0deg)",requestAnimationFrame(()=>{e[t].style.transition="transform 0.5s ease",e[t].style.transform="rotate(360deg)"})}},[n]);let k=e=>{N({...v,[e]:p[v[e]]})};return(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h1",{className:"text-3xl mb-4",children:"Mastermind Game"}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("div",{children:["Letters are from the following (any number of duplicates are possible):",(0,i.jsx)("div",{className:"my-4 flex flex-wrap gap-1",children:Array.from(f).map(e=>(0,i.jsx)("div",{className:(0,c.Z)("w-8 h-8 text-lg text-center font-bold leading-8 outline outline-1",m[0]),children:e},e))})]}),(0,i.jsxs)("ul",{className:"my-4 list-none",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"text-red-800 font-bold",children:"Dark markers:"})," correct letters in the right position"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"text-burlywood-300 font-bold",children:"Light markers:"})," correct letters in the wrong position"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"Mark letters: "})," click/tap letters to"," ",(0,i.jsx)("span",{className:"px-1 rounded font-bold bg-stone-300 text-burlywood-600 whitespace-nowrap",children:"rule them out"})," ","or to mark them as ",(0,i.jsx)("span",{className:"px-1 rounded font-bold bg-teal-200 text-teal-600",children:"correct"})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"font-bold",children:"Attempts: "})," ",10]})]})]}),t&&(0,i.jsx)("div",{children:"loading..."}),!t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex gap-4 md:gap-8 mb-6",children:[(0,i.jsx)("div",{ref:j,className:"flex gap-1 text-burlywood-800 fill-burlywood-800",children:n.split("").map((e,t)=>(0,i.jsx)("div",{className:(0,c.Z)("w-8 h-8 text-lg text-center font-bold leading-8 outline outline-1",m[0]),children:y?e:(0,i.jsx)("div",{className:"asterisk-wrapper p-2",children:(0,i.jsx)(b,{})})},t))}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"button",className:(0,c.Z)("px-1 w-32 h-8",u),onClick:()=>{r(x(5,f)),o([]),N(g())},children:"New Game"})})]}),(0,i.jsxs)("div",{className:"min-h-12",children:[0===s.length&&(0,i.jsx)("div",{className:"w-[21rem] h-12 text-3xl leading-normal text-center text-burlywood-500/30",children:"Type to make a guess"}),s.map((e,t)=>{let{code:l,score:n}=e;return(0,i.jsxs)("div",{className:"flex gap-4 md:gap-8 mb-1",children:[(0,i.jsx)("div",{className:"flex gap-1",children:l.split("").map((e,t)=>(0,i.jsx)("div",{className:"w-8 h-8 ".concat(m[v[e]]," text-center text-lg leading-8 font-bold outline outline-1 select-none"),onClick:()=>k(e),children:e},t))}),(0,i.jsx)("div",{className:"flex gap-2 items-center",children:n.map((e,t)=>(0,i.jsx)("div",{className:"w-7 h-7 rounded-full outline outline-2 outline-offset-[-1px] ".concat(0===e?"bg-orange-700 outline-orange-800":"bg-burlywood-100 outline-burlywood-300")},t))})]},t)})]}),(0,i.jsx)("button",{type:"button",className:(0,c.Z)("mt-6 w-44 h-8",u),onClick:()=>N(g()),children:"Clear Letters"}),y&&(0,i.jsxs)("p",{className:"mt-6 mb-1 w-44 text-center text-xl font-bold",children:["YOU ",w?"WON":"LOST","!"]}),!y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"mt-6 mb-1 w-44 text-center",children:["YOUR GUESS (",Math.max(10-s.length,0),")"]}),(0,i.jsx)(d,{letterRange:f,handleSubmit:e=>{if(y||5!==e.length||null===e.match("[A-Z]{".concat(5,"}")))return!1;let t=function(e,t){let l=[,,,,,].fill(void 0),n=e.split(""),r=t.split(""),s=[,,,,,].fill(!1),o=[,,,,,].fill(!1);for(let e=0;e<5;e++)r[e]===n[e]&&(l[e]=0,s[e]=!0,o[e]=!0);for(let e=0;e<5;e++)if(void 0===l[e]){for(let t=0;t<5;t++)if(!s[t]&&!o[e]&&r[e]===n[t]){l[e]=1,s[t]=!0,o[e]=!0;break}}let i=[];for(;l.length;){let e=l.pop();0===e&&i.unshift(e),1===e&&i.push(e)}return i}(n,e);return o([...s,{code:e,score:t}]),!0}})]})]})]})}},4839:function(e,t,l){"use strict";t.Z=function(){for(var e,t,l=0,n="",r=arguments.length;l<r;l++)(e=arguments[l])&&(t=function e(t){var l,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(l=0;l<s;l++)t[l]&&(n=e(t[l]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n)}return r}(e))&&(n&&(n+=" "),n+=t);return n}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6140)}),_N_E=e.O()}]);